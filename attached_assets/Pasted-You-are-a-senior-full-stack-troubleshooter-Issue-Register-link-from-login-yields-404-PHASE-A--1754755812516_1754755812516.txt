You are a senior full‑stack troubleshooter. Issue: “Register” link from /login yields 404.

PHASE A — CHECK FIRST (read-only)
A1. Client routing
- Detect router (React Router/Wouter/Next).
- List declared routes and confirm a route exists for /register (or the correct existing path).
- Show evidence: file and line for the /login link target and the /register route.

A2. Server fallback
- Inspect Express setup: confirm app.use('/api', …) is mounted BEFORE any catch-all.
- Confirm static serving for built client and a catch-all that serves index.html for non-/api routes.
- Show evidence: server/index.ts lines for static + regex catch-all.

A3. API availability
- Confirm POST /api/auth/register exists and returns JSON (not HTML). Provide curl output (status + Content-Type).

Output Phase A report:
- Summary (≤6 bullets)
- Findings Table [ID | Area | Evidence (file:line) | Notes]
- Minimal fixes (if any)

STOP if blockers.

PHASE B — APPLY MINIMAL FIXES
B1. If missing /register route in client, add it and wire a simple <RegisterPage/> using the existing design system (Tailwind + shadcn/ui). 
- Fields: email, password (min 8), confirm password (client-side), remember (optional).
- CSRF: fetch /api/csrf/token on mount; send x-csrf-token on submit.
- Accessible labels, inline errors (Zod), disabled button while posting.

B2. If server lacks SPA fallback, add:
- express.static(clientDist)
- catch-all: app.get(/^\/(?!api).*$/, serve index.html)
Ensure this is AFTER app.use('/api', …) and BEFORE error handlers.

B3. Fix the login page link to point to the actual register route (e.g., “/register”).

B4. Do NOT change any /api logic beyond wiring.

PHASE C — VERIFICATION
C1. Client route
- Visit /login → click “Create an account” → /register renders (no full reload).
C2. Direct URL
- curl -I $BASE/register → 200 text/html
C3. API
- POST /api/auth/register with JSON+CSRF returns JSON (201/200 on happy path, 4xx on errors).
C4. Headers
- Ensure Set-Cookie is Secure/HttpOnly/SameSite and CSP still present.
C5. Output final report with:
  - Summary
  - Findings Table (file:line diffs)
  - curl outputs for /register (GET) and /api/auth/register (POST)
  - Go/No-Go

Begin with PHASE A and return only the Phase A report first.
