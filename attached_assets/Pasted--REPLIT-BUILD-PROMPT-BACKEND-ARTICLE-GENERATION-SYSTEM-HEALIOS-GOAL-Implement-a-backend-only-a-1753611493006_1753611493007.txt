âœ… REPLIT BUILD PROMPT â€” BACKEND ARTICLE GENERATION SYSTEM (HEALIOS)
GOAL:
Implement a backend-only article generation service for The Healios. No frontend. The system must allow manual generation of blog articles (with citations) from Replit and save them to the existing PostgreSQL articles table using Drizzle ORM.

ðŸ”§ BACKEND STRUCTURE:
File: services/articleGenerator.ts
Create a service that:

Accepts a topic string (e.g. "The Science Behind Biotin for Hair Health")

Generates citations via Perplexity or fallback research function

Passes structured data to OpenAI to generate a professional, SEO-friendly article

Stores the result in articles table with proper slug, metadata, and timestamps

Database
Extend or confirm the following Drizzle table:

ts
Copy
Edit
export const articles = pgTable("articles", {
  id: uuid("id").primaryKey().defaultRandom(),
  title: text("title"),
  slug: text("slug").unique(),
  content: text("content"),
  metadata: jsonb("metadata"),
  publishedAt: timestamp("published_at", { withTimezone: true }),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow(),
});
File: lib/generatePrompt.ts
Create a function that returns a structured GPT prompt like:

ts
Copy
Edit
export function generatePrompt(topic: string, research: string): string {
  return `Write a UK English expert article for The Healios titled "${topic}". Target a wellness-savvy audience. Use these real research notes:\n\n${research}\n\nStructure with H1, H2, H3, SEO keywords, real-world examples, bullet points, and strong citations. Tone: professional, evidence-based, human. Do NOT include speculative health claims or AI-sounding language.`;
}
API Trigger (Optional)
Create a private API route:

css
Copy
Edit
POST /api/internal/generate-article
Body: { topic: string }
It should call the full generation pipeline and return the created article.

ðŸ§ª RUN IMMEDIATELY
After implementing the above, execute the following in Replit to create your first article:

ts
Copy
Edit
await generateArticle("The Science Behind Biotin for Hair Health");
This will generate and store an expert-written article on Biotin Gummies (Product #1) into the articles table with timestamp and metadata.

âœ… OUTPUT EXPECTATIONS
The article should be 1200â€“2000 words

Use real-world citations (e.g. PubMed, NHS, EFSA)

Must include:

Introduction to Biotinâ€™s role in human physiology

Claims validated by EFSA or NICE

Gummy vs tablet compliance insight

A segment on dosage, NRV, and overuse

Summary and soft CTA